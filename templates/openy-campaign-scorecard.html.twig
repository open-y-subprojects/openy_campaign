{#{{ attach_library('openy_campaign_theme/global-styling') }}#}

<div class="campaign-scorecard">
  <table>
    <thead>
    <tr>
      <th colspan="3"></th>
      <th class="separator"></th>
      <th class="blue-outline" colspan="9" align="center">Registration</th>
      <th class="separator"></th>
      <th class="violet-outline" colspan="4" align="center">Utilization</th>
    </tr>
    <tr>
      <th class="green"></th>
      <th class="green">Branch</th>
      <th class="green">Target</th>
      <th class="separator"></th>
      <th class="blue" colspan="4" align="center">EARLY REG (12/1 - 12/4)</th>
      <th class="separator"></th>
      <th class="blue" colspan="4" align="center">EARLY REG + CHALLENGE (12/1 - 12/18)</th>
      <th class="separator"></th>
      <th class="violet" colspan="4" align="center"> CHALLENGE (12/5 - 12/18)</th>
    </tr>
    <tr>
      <th class="green-text">#</th>
      <th class="green-text">Name</th>
      <th class="green-text">Members&nbsp;1</th>
      <th class="separator"></th>
      <th class="blue-text grey">REGISTRATION GOAL (5%)</th>
      <th class="blue-text">ACTUAL As&nbsp;of&nbsp;12/4&nbsp;at 11:59pm</th>
      <th class="blue-text"> % OF MEMBERS </th>
      <th class="blue-text">% TO GOAL</th>
      <th class="separator"></th>
      <th class="blue-text grey">REGISTRATION GOAL (5%)</th>
      <th class="blue-text">ACTUAL As&nbsp;of&nbsp;12/17</th>
      <th class="blue-text"> % OF MEMBERS </th>
      <th class="blue-text">% TO GOAL</th>
      <th class="separator"></th>
      <th class="violet-text grey">UTILIZATION GOAL (45%)</th>
      <th class="violet-text">ACTUAL As&nbsp;of&nbsp;12/17</th>
      <th class="violet-text grey">%&nbsp;OF REGISTERED MEMBERS&nbsp;3</th>
      <th class="violet-text grey">%&nbsp;TO&nbsp;GOAL Set&nbsp;7/31&nbsp;3</th>
    </tr>
    </thead>
    <tbody class="table-hover">

    {% for id, branch in result.branches %}

        {% set early = result.registration.early[id] %}
        {% set challenge = result.registration.challenge[id] %}
        {% set util = result.utilization[id] %}
      <tr>
        <td class="bold" align="center">{{ branch.nid }}</td>
        <td class="bold" align="center">{{ branch.title }}</td>
        <td align="right">{{ branch.target }}</td>
        <th class="separator"></th>
        <td class="grey" align="right">{{ early.registration_goal }}</td>
        <td align="right">{{ early.actual }}</td>
        <td align="right">{{ early.of_members }}%</td>
          {% set class = '' %}
        {% if  early.of_goal > 80 and early.of_goal <= 100  %}
          {% set class = 'orange' %}
        {% elseif early.of_goal > 100 %}
          {% set class = 'dark-green' %}
        {% endif %}
        <td align="right" class="{{ class }} bold">{{ early.of_goal }}%</td>
        <th class="separator"></th>
        <td align="right" class="grey">{{ challenge.registration_goal }}</td>
        <td align="right">{{ challenge.actual }}</td>
        <td align="right">{{ challenge.of_members }}%</td>
          {% set class = '' %}
          {% if  challenge.of_goal > 100  %}
              {% set class = 'dark-green' %}
          {% endif %}
        <td align="right" class="{{ class }} bold">{{ challenge.of_goal }}%</td>
        <th class="separator"></th>
        <td class="grey" align="right">{{ util.goal }}</td>
        <td align="right">{{ util.actual }}</td>
        <td align="right">{{ util.of_members }}%</td>
          {% set class = '' %}
          {% if  util.of_goal > 100  %}
              {% set class = 'dark-green' %}
          {% endif %}
        <td align="right" class="{{ class }} bold">{{ util.of_goal }}%</td>
      </tr>

    {% endfor %}
    </tbody>
    <tfoot>
    <tr>

      <td class="green" align="right" colspan="2">ASSOCIATION&nbsp;TOTAL:</td>
      <td class="green" align="right">{{ result.total.target }}</td>
      <th class="separator"></th>
      <td class="blue" >{{ result.total.registration_goal }}</td>
      <td class="blue">{{ result.total.actual }}</td>
      <td class="blue">{{ result.total.of_members }}%</td>
      <td class="blue">{{ result.total.of_goal }}%</td>
      <th class="separator"></th>
      <td class="blue">{{ result.total.reg_registration_goal }}</td>
      <td class="blue">{{ result.total.reg_actual }}</td>
      <td class="blue">{{ result.total.reg_of_members }}%</td>
      <td class="blue">{{ result.total.reg_of_goal }}%</td>
      <th class="separator"></th>
      <td class="violet">{{ result.total.util_registration_goal }}</td>
      <td class="violet">{{ result.total.util_actual }}</td>
      <td class="violet">{{ result.total.util_of_members }}%</td>
      <td class="violet">{{ result.total.util_of_goal }}%</td>
    </tr>
    </tfoot>
  </table>
</div>
